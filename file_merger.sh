#!/bin/sh
: '
---------------------------------------------
                 _           _     _ 
                | |         (_)   | |
  __ _ _ __   __| |_ __ ___  _  __| |
 / _` | '_ \ / _` | '__/ _ \| |/ _` |
| (_| | | | | (_| | | | (_) | | (_| |
 \__,_|_| |_|\__,_|_|  \___/|_|\__,_|


 ___  ___ _ __ ___  ___ _ __  
/ __|/ __| '__/ _ \/ _ \ '_ \ 
\__ \ (__| | |  __/  __/ | | |
|___/\___|_|  \___|\___|_| |_|
                                 
                            _           
                           | |          
 _ __ ___  ___ ___  _ __ __| | ___ _ __ 
| '__/ _ \/ __/ _ \| '__/ _` |/ _ \ '__|
| | |  __/ (_| (_) | | | (_| |  __/ |   
|_|  \___|\___\___/|_|  \__,_|\___|_|     

--------------------------------------------
Created BY Sebastian Cipolat
@seba_cipolat
Argentina 2022  
--------------------------------------------
Video Merging Script using ffmpeg tool
--------------------------------------------
'
rm "pid.tmp"

i=0
counter=$(head -n 1 recorder.tmp)
cd videos

while [ "$i" -le "$counter" ]; do
    echo "file 'record_video_$i.mp4'" >> video_list.tmp
    i=$(( i + 1 ))
done 

ffmpeg -f concat -i video_list.tmp -c copy output.mp4
cd ..
rm "recorder.tmp"
